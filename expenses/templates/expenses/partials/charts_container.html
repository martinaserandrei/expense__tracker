{% load static %}
{% load widget_tweaks %}
<!-- Link to the external CSS file -->
<link rel="stylesheet" href="{% static '/expenses/css/index2.css' %}">

<div class="grid-container">

    <!-- Container for the transaction charts -->
    <div id="transaction-charts-container" class="mb-5 bg-white p-4 rounded-4 shadow-sm">

        <h4 class="chart-title fw-bold" style="color: #343a40;">
            Income and Expense Comparison
        </h4> 

        {{ income_expense_bar|safe }}

        <h4 class="chart-title fw-bold" style="color: #343a40;">
            Total Income per Category
        </h4> 
        {{ category_income_pie|safe }}

        <h4 class="chart-title fw-bold" style="color: #343a40;">
            Total Expense per Category
        </h4>

        {{ category_expense_pie|safe }}


        <h4 class="chart-title fw-bold" style="color: #343a40;">
            Income and Expense Trend Over Time
        </h4> 

        {{ plot_line_chart|safe }}
    </div>


    <div id="filter-form-container" class="mb-5 bg-white p-4 rounded-4 shadow-sm">
        <h4 class="mb-4 fw-bold">Filter Transactions</h4>
        <!-- Filter Form -->
        <form method="get" class="filter-form" hx-get="{% url 'charts' %}" 
        hx-target="#transaction-charts-container" 
        hx-swap="outerHTML" 
        hx-indicator="#loading-indicator">

            {{ filter.form.as_p }}
            <!-- Submit button for the filter form -->
            <button type="submit" class="btn hover-line">Filter</button>
        </form>
    </div>

</div>